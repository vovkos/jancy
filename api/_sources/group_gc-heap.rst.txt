.. index:: pair: group; Garbage-Collected Heap
.. _doxid-group__gc-heap:

Garbage-Collected Heap
======================

.. toctree::
	:hidden:

	enum_jnc_GcDef.rst
	enum_jnc_GcShadowStackFrameMapOp.rst
	struct_jnc_GcHeap.rst
	struct_jnc_GcSizeTriggers.rst
	struct_jnc_GcStats.rst

This set of functions is used to allocate objects on GC Heap.


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <jnc_GcHeap.h>
	
	// enums

	enum :ref:`jnc_GcDef<doxid-group__gc-heap_1ga7919fa861c6ea4f7daa2446dbd2f1d86>`;
	enum :ref:`jnc_GcShadowStackFrameMapOp<doxid-group__gc-heap_1ga0ece1ff7201734551cf59258f10ad02b>`;

	// structs

	struct :ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`;
	struct :ref:`jnc_GcSizeTriggers<doxid-structjnc___gc_size_triggers>`;
	struct :ref:`jnc_GcStats<doxid-structjnc___gc_stats>`;

	// global functions

	static
	void
	:target:`jnc_GcStats_add<doxid-group__gc-heap_1ga27dfa5b821305b2c7d60ba5bb071455e>`(
		:ref:`jnc_GcStats<doxid-structjnc___gc_stats>`* gcStats,
		const :ref:`jnc_GcStats<doxid-structjnc___gc_stats>`* gcStats2
	);

	:ref:`jnc_Runtime<doxid-structjnc___runtime>`*
	:target:`jnc_GcHeap_getRuntime<doxid-group__gc-heap_1gaaef73ae93331904f451db27be4f1fc90>`(:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap);

	void
	:target:`jnc_GcHeap_getStats<doxid-group__gc-heap_1ga0e806a97b3da363dad6bc8421f291670>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		:ref:`jnc_GcStats<doxid-structjnc___gc_stats>`* stats
	);

	void
	:target:`jnc_GcHeap_getSizeTriggers<doxid-group__gc-heap_1gaa64a8b68bac85693c0097c72c39af6e7>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		:ref:`jnc_GcSizeTriggers<doxid-structjnc___gc_size_triggers>`* triggers
	);

	void
	:target:`jnc_GcHeap_setSizeTriggers<doxid-group__gc-heap_1ga26780e017e6961825dbf9845d5b42c33>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		const :ref:`jnc_GcSizeTriggers<doxid-structjnc___gc_size_triggers>`* triggers
	);

	void
	:target:`jnc_GcHeap_collect<doxid-group__gc-heap_1gaa94975d027a44bcec74255960219890e>`(:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap);

	void
	:target:`jnc_GcHeap_enterNoCollectRegion<doxid-group__gc-heap_1gae986bce6a7237afb2dbef05c766a56d7>`(:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap);

	void
	:target:`jnc_GcHeap_leaveNoCollectRegion<doxid-group__gc-heap_1gae9693a295759fc0c7c330df17ad84cca>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		:ref:`bool_t<doxid-group__base-def_1ga812d16e5494522586b3784e55d479912>` canCollectNow
	);

	void
	:target:`jnc_GcHeap_enterWaitRegion<doxid-group__gc-heap_1ga7513ae602e25245ff6ee25c3aa4cf1c9>`(:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap);

	void
	:target:`jnc_GcHeap_leaveWaitRegion<doxid-group__gc-heap_1ga7083e8e5a2bcf22e08f23d2455c467fa>`(:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap);

	void
	:target:`jnc_GcHeap_safePoint<doxid-group__gc-heap_1gad1260fee70c8996e62129c4f6f27a36f>`(:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap);

	void
	:target:`jnc_GcHeap_setFrameMap<doxid-group__gc-heap_1gaab0be41861426f3760e0e8fb6849dcf3>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		:ref:`jnc_GcShadowStackFrame<doxid-structjnc___gc_shadow_stack_frame>`* frame,
		jnc_GcShadowStackFrameMap* map,
		jnc_GcShadowStackFrameMapOp op
	);

	void
	:target:`jnc_GcHeap_addStaticDestructor<doxid-group__gc-heap_1gaf4b1e36be94cde6f5e62c20bcc5971c4>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		jnc_StaticDestructFunc* destructFunc
	);

	void
	:target:`jnc_GcHeap_addStaticClassDestructor<doxid-group__gc-heap_1ga60009a094318f1f93be959f474355461>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		jnc_DestructFunc* destructFunc,
		:ref:`jnc_IfaceHdr<doxid-structjnc___iface_hdr>`* iface
	);

	void
	:target:`jnc_GcHeap_addStaticRoot<doxid-group__gc-heap_1ga9ed7872af1d7ab4690ff481a7dbd5f8f>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		const void* p,
		:ref:`jnc_Type<doxid-structjnc___type>`* type
	);

	:ref:`jnc_IfaceHdr<doxid-structjnc___iface_hdr>`*
	:target:`jnc_GcHeap_allocateClass<doxid-group__gc-heap_1ga540c98064d2e3dfbcf9315471db07bcc>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		:ref:`jnc_ClassType<doxid-structjnc___class_type>`* type
	);

	:ref:`jnc_IfaceHdr<doxid-structjnc___iface_hdr>`*
	:target:`jnc_GcHeap_tryAllocateClass<doxid-group__gc-heap_1gabdd21023a0588a46ce6032c8a7e38851>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		:ref:`jnc_ClassType<doxid-structjnc___class_type>`* type
	);

	:ref:`jnc_DataPtr<doxid-structjnc___data_ptr>`
	:target:`jnc_GcHeap_allocateData<doxid-group__gc-heap_1gacfb0a961d7603bf6157319257f2e8bbd>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		:ref:`jnc_Type<doxid-structjnc___type>`* type
	);

	:ref:`jnc_DataPtr<doxid-structjnc___data_ptr>`
	:target:`jnc_GcHeap_tryAllocateData<doxid-group__gc-heap_1gafd6f46c2606bc3633e34e7d8addeac31>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		:ref:`jnc_Type<doxid-structjnc___type>`* type
	);

	:ref:`jnc_DataPtr<doxid-structjnc___data_ptr>`
	:target:`jnc_GcHeap_allocateArray<doxid-group__gc-heap_1gac443bf420a6a71dc443fe18227f5d281>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		:ref:`jnc_Type<doxid-structjnc___type>`* type,
		size_t count
	);

	:ref:`jnc_DataPtr<doxid-structjnc___data_ptr>`
	:target:`jnc_GcHeap_tryAllocateArray<doxid-group__gc-heap_1gab89db325e9453a82ba29cca6be57ba54>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		:ref:`jnc_Type<doxid-structjnc___type>`* type,
		size_t count
	);

	:ref:`jnc_DataPtr<doxid-structjnc___data_ptr>`
	:target:`jnc_GcHeap_allocateBuffer<doxid-group__gc-heap_1gaf1b0aa1186e12c0918044393fd1937b2>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		size_t size
	);

	:ref:`jnc_DataPtr<doxid-structjnc___data_ptr>`
	:target:`jnc_GcHeap_tryAllocateBuffer<doxid-group__gc-heap_1ga9ed928835c480ec71f50da271eae6a00>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		size_t size
	);

	:ref:`jnc_DataPtrValidator<doxid-structjnc___data_ptr_validator>`*
	:target:`jnc_GcHeap_createDataPtrValidator<doxid-group__gc-heap_1ga224cf81891d8e4546131485d5969a730>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		:ref:`jnc_Box<doxid-structjnc___box>`* box,
		const void* rangeBegin,
		size_t rangeLength
	);

	:ref:`jnc_DetachedDataBox<doxid-structjnc___detached_data_box>`*
	:target:`jnc_GcHeap_createForeignDataBox<doxid-group__gc-heap_1ga814a8d316c72e49941d732513adf768e>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		:ref:`jnc_Type<doxid-structjnc___type>`* type,
		size_t elementCount,
		const void* p,
		:ref:`bool_t<doxid-group__base-def_1ga812d16e5494522586b3784e55d479912>` isCallSiteLocal
	);

	:ref:`jnc_DataPtr<doxid-structjnc___data_ptr>`
	:target:`jnc_GcHeap_createForeignBufferPtr<doxid-group__gc-heap_1ga0fdafc56d6b66e8eb72a1e557806919d>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		const void* p,
		size_t size,
		:ref:`bool_t<doxid-group__base-def_1ga812d16e5494522586b3784e55d479912>` isCallSiteLocal
	);

	void
	:target:`jnc_GcHeap_invalidateDataPtrValidator<doxid-group__gc-heap_1ga47d8628bcf4f0b583190db47a0b8e06a>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		:ref:`jnc_DataPtrValidator<doxid-structjnc___data_ptr_validator>`* validator
	);

	static
	void
	:target:`jnc_GcHeap_invalidateDataPtr<doxid-group__gc-heap_1gac121c36f57c1871c8275a06eb06dad49>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		:ref:`jnc_DataPtr<doxid-structjnc___data_ptr>` ptr
	);

	void
	:target:`jnc_GcHeap_weakMark<doxid-group__gc-heap_1gab255c32139f06147c7bb607081117961>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		:ref:`jnc_Box<doxid-structjnc___box>`* box
	);

	void
	:target:`jnc_GcHeap_markData<doxid-group__gc-heap_1ga2083c31918a77af89f6d7ba07ae33b2b>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		:ref:`jnc_Box<doxid-structjnc___box>`* box
	);

	static
	void
	:target:`jnc_GcHeap_markDataPtr<doxid-group__gc-heap_1gaffc70ed17e23aa36b8b12d2e60857c58>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		:ref:`jnc_DataPtr<doxid-structjnc___data_ptr>` ptr
	);

	void
	:target:`jnc_GcHeap_markClass<doxid-group__gc-heap_1ga3d87ed52165d28ed977207a874d741a7>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		:ref:`jnc_Box<doxid-structjnc___box>`* box
	);

	static
	void
	:target:`jnc_GcHeap_markClassPtr<doxid-group__gc-heap_1ga07d1b8aded4f04a9b212b2cbf122e981>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		:ref:`jnc_IfaceHdr<doxid-structjnc___iface_hdr>`* iface
	);

	static
	void
	:target:`jnc_GcHeap_markString<doxid-group__gc-heap_1ga1ff747a7fa9dbcce22b48b77eb5b64f0>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		:ref:`jnc_String<doxid-structjnc___string>` string
	);

	void
	:target:`jnc_GcHeap_markVariant<doxid-group__gc-heap_1gab28cd4fbc4e6aaed53cf93f0eca64c63>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		:ref:`jnc_Variant<doxid-structjnc___variant>` variant
	);

	void
	:target:`jnc_GcHeap_addRoot<doxid-group__gc-heap_1ga60075b48496242a9a75a123ca03ac58c>`(
		:ref:`jnc_GcHeap<doxid-structjnc___gc_heap>`* gcHeap,
		const void* p,
		:ref:`jnc_Type<doxid-structjnc___type>`* type
	);

	void
	:target:`jnc_GcHeap_addBoxToCallSite<doxid-group__gc-heap_1gabced49a8f41becfe398e8e587d3d0358>`(:ref:`jnc_Box<doxid-structjnc___box>`* box);

