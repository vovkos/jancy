int main() {
	char const* packet = " foo123 bar567 ";

	jnc.RegexState state(jnc.RegexExecFlags.AnchorDataBegin);
	reswitch (state, packet) {
	case r"\s*(foo\d*)\s+(bar\d*)?\s*":
		printf("detected foobar: '%s'\n", state.m_match.m_text);
		printf("foo: '%s'\n", state.m_captureArray[0].m_text);
		printf("bar: '%s'\n", state.m_captureArray[1].m_text);
		printf("offset: %lld\n", state.m_match.m_endOffset);
		break;

	default:
		printf("recognition error\n");
		return -1;
	}

	return 0;
}
